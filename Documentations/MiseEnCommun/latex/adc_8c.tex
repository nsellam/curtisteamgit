\hypertarget{adc_8c}{}\section{C\+:/\+Users/\+Clément/\+Documents/\+Cours/\+Projet\+Curtis/curtisteamgit/\+Code/\+Projects\+\_\+\+S\+T\+M32/\+Mise\+En\+Commun/\+Std\+Periph\+\_\+\+Ex/adc.c File Reference}
\label{adc_8c}\index{C\+:/\+Users/\+Clément/\+Documents/\+Cours/\+Projet\+Curtis/curtisteamgit/\+Code/\+Projects\+\_\+\+S\+T\+M32/\+Mise\+En\+Commun/\+Std\+Periph\+\_\+\+Ex/adc.\+c@{C\+:/\+Users/\+Clément/\+Documents/\+Cours/\+Projet\+Curtis/curtisteamgit/\+Code/\+Projects\+\_\+\+S\+T\+M32/\+Mise\+En\+Commun/\+Std\+Periph\+\_\+\+Ex/adc.\+c}}


Functions to handle A\+D\+Cs.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stm32f10x.\+h$>$}\newline
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}adc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dma.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{adc_8c_af8a28af200c653cdf82311b4844e0e03}{}\label{adc_8c_af8a28af200c653cdf82311b4844e0e03} 
\#define \hyperlink{adc_8c_af8a28af200c653cdf82311b4844e0e03}{G\+P\+I\+O\+\_\+\+M\+O\+D\+E\+\_\+\+A\+DC}~G\+P\+I\+O\+\_\+\+Mode\+\_\+\+A\+IN
\begin{DoxyCompactList}\small\item\em G\+P\+I\+O\+Mode\+\_\+\+Type\+Def recommended to initialize G\+P\+IO for A\+DC. \end{DoxyCompactList}\item 
\hypertarget{adc_8c_af0a320afa61a52db59de96a72ab64ee2}{}\label{adc_8c_af0a320afa61a52db59de96a72ab64ee2} 
\#define \hyperlink{adc_8c_af0a320afa61a52db59de96a72ab64ee2}{E\+R\+R\+O\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+O\+RT}~((uint8\+\_\+t) -\/1)
\begin{DoxyCompactList}\small\item\em Specified port is not valid (only G\+P\+I\+OA, G\+P\+I\+OB an G\+P\+I\+OC are available) \end{DoxyCompactList}\item 
\hypertarget{adc_8c_a12efaf0ce5990566e841716c0c6cea56}{}\label{adc_8c_a12efaf0ce5990566e841716c0c6cea56} 
\#define \hyperlink{adc_8c_a12efaf0ce5990566e841716c0c6cea56}{E\+R\+R\+O\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+IN}~((uint8\+\_\+t) -\/2)
\begin{DoxyCompactList}\small\item\em Specified pin can\textquotesingle{}t be use on this port for A\+DC. \end{DoxyCompactList}\item 
\hypertarget{adc_8c_a463f0e4a963177026b901ac439ac4625}{}\label{adc_8c_a463f0e4a963177026b901ac439ac4625} 
\#define {\bfseries A\+D\+C\+\_\+\+NB}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{adc_8c_a3eeed6ce49f7b81ad12809e53461062e}{A\+D\+C\+\_\+\+Clock\+\_\+\+Enable} (A\+D\+C\+\_\+\+Type\+Def $\ast$A\+D\+Cx)
\begin{DoxyCompactList}\small\item\em Starts the A\+DC Clock. \end{DoxyCompactList}\item 
\hypertarget{adc_8c_a4f78e57a5d57a726473d36b5127ce2f4}{}\label{adc_8c_a4f78e57a5d57a726473d36b5127ce2f4} 
uint8\+\_\+t {\bfseries G\+P\+I\+O\+Pin2\+A\+D\+C\+Channel} (G\+P\+I\+O\+\_\+\+Type\+Def $\ast$G\+P\+I\+Ox, uint16\+\_\+t G\+P\+I\+O\+\_\+\+Pin\+\_\+x)
\item 
\hypertarget{adc_8c_a39a3ad92c4a8177ed4f677a86dcdb353}{}\label{adc_8c_a39a3ad92c4a8177ed4f677a86dcdb353} 
uint8\+\_\+t {\bfseries A\+D\+C2int} (A\+D\+C\+\_\+\+Type\+Def $\ast$A\+D\+Cx)
\item 
int \hyperlink{adc_8c_ac9c1e16ff94fbf1cd518f1eb22c7bf76}{A\+D\+C\+\_\+\+Quick\+Init} (A\+D\+C\+\_\+\+Type\+Def $\ast$A\+D\+Cx, G\+P\+I\+O\+\_\+\+Type\+Def $\ast$G\+P\+I\+Ox, uint16\+\_\+t G\+P\+I\+O\+\_\+\+Pin\+\_\+x, uint8\+\_\+t Rank, uint8\+\_\+t Sample\+Time)
\begin{DoxyCompactList}\small\item\em Makes the initialization of the given Analog to Digital Converter (A\+DC) with the parameters specified. \end{DoxyCompactList}\item 
\hypertarget{adc_8c_a8c541c573ae8116bd93719a44aab8aa0}{}\label{adc_8c_a8c541c573ae8116bd93719a44aab8aa0} 
uint16\+\_\+t {\bfseries A\+D\+C\+\_\+\+Get\+Value} (A\+D\+C\+\_\+\+Type\+Def $\ast$A\+D\+Cx, int rank)
\item 
\hypertarget{adc_8c_a7defbc5079df7e920454289e8b819a2b}{}\label{adc_8c_a7defbc5079df7e920454289e8b819a2b} 
void \hyperlink{adc_8c_a7defbc5079df7e920454289e8b819a2b}{A\+D\+C\+\_\+\+Callback} (void)
\begin{DoxyCompactList}\small\item\em Callback associated to A\+DC interrupts. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{adc_8c_a03896c549501608ff69c3c95ac3d30e4}{}\label{adc_8c_a03896c549501608ff69c3c95ac3d30e4} 
int {\bfseries initialized} \mbox{[}A\+D\+C\+\_\+\+NB\mbox{]} = \{0,0,0\}
\item 
\hypertarget{adc_8c_a28f1c966974502786a1a3cc705cba47c}{}\label{adc_8c_a28f1c966974502786a1a3cc705cba47c} 
uint16\+\_\+t {\bfseries conversion\+\_\+values} \mbox{[}A\+D\+C\+\_\+\+NB\mbox{]}\mbox{[}\hyperlink{adc_8h_a53f3bf26ad6198c3d5f4f69b76533c7c}{A\+D\+C\+\_\+\+N\+B\+\_\+\+C\+H\+A\+N\+N\+E\+L\+S\+\_\+\+M\+AX}\mbox{]} = \{0\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions to handle A\+D\+Cs. 

\begin{DoxyAuthor}{Author}
Curtis Team 
\end{DoxyAuthor}


\subsection{Function Documentation}
\hypertarget{adc_8c_a3eeed6ce49f7b81ad12809e53461062e}{}\label{adc_8c_a3eeed6ce49f7b81ad12809e53461062e} 
\index{adc.\+c@{adc.\+c}!A\+D\+C\+\_\+\+Clock\+\_\+\+Enable@{A\+D\+C\+\_\+\+Clock\+\_\+\+Enable}}
\index{A\+D\+C\+\_\+\+Clock\+\_\+\+Enable@{A\+D\+C\+\_\+\+Clock\+\_\+\+Enable}!adc.\+c@{adc.\+c}}
\subsubsection{\texorpdfstring{A\+D\+C\+\_\+\+Clock\+\_\+\+Enable()}{ADC\_Clock\_Enable()}}
{\footnotesize\ttfamily void A\+D\+C\+\_\+\+Clock\+\_\+\+Enable (\begin{DoxyParamCaption}\item[{A\+D\+C\+\_\+\+Type\+Def $\ast$}]{A\+D\+Cx }\end{DoxyParamCaption})}



Starts the A\+DC Clock. 


\begin{DoxyParams}{Parameters}
{\em A\+D\+C\+\_\+\+Type\+Def} & A\+D\+Cx defines an A\+DC among A\+D\+C1, A\+D\+C2, and A\+D\+C3 that will be used later \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em none} & \\
\hline
\end{DoxyRetVals}
\hypertarget{adc_8c_ac9c1e16ff94fbf1cd518f1eb22c7bf76}{}\label{adc_8c_ac9c1e16ff94fbf1cd518f1eb22c7bf76} 
\index{adc.\+c@{adc.\+c}!A\+D\+C\+\_\+\+Quick\+Init@{A\+D\+C\+\_\+\+Quick\+Init}}
\index{A\+D\+C\+\_\+\+Quick\+Init@{A\+D\+C\+\_\+\+Quick\+Init}!adc.\+c@{adc.\+c}}
\subsubsection{\texorpdfstring{A\+D\+C\+\_\+\+Quick\+Init()}{ADC\_QuickInit()}}
{\footnotesize\ttfamily int A\+D\+C\+\_\+\+Quick\+Init (\begin{DoxyParamCaption}\item[{A\+D\+C\+\_\+\+Type\+Def $\ast$}]{A\+D\+Cx,  }\item[{G\+P\+I\+O\+\_\+\+Type\+Def $\ast$}]{G\+P\+I\+Ox,  }\item[{uint16\+\_\+t}]{G\+P\+I\+O\+\_\+\+Pin\+\_\+x,  }\item[{uint8\+\_\+t}]{Rank,  }\item[{uint8\+\_\+t}]{Sample\+Time }\end{DoxyParamCaption})}



Makes the initialization of the given Analog to Digital Converter (A\+DC) with the parameters specified. 


\begin{DoxyParams}{Parameters}
{\em A\+D\+Cx} & A\+DC unit to use to perform analog to digital conversions \\
\hline
{\em G\+P\+I\+Ox} & Port of the input to consider \\
\hline
{\em G\+P\+I\+O\+\_\+\+Pin\+\_\+x} & Number of the pin to consider \\
\hline
{\em Rank} & Place of this conversion in the conversions sequence \\
\hline
{\em Sample\+Time} & Averaging time (in number of cycles) This parameter can be one of the following values\+: \begin{DoxyItemize}
\item A\+D\+C\+\_\+\+Sample\+Time\+\_\+1\+Cycles5\+: Sample time equal to 1.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+7\+Cycles5\+: Sample time equal to 7.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+13\+Cycles5\+: Sample time equal to 13.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+28\+Cycles5\+: Sample time equal to 28.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+41\+Cycles5\+: Sample time equal to 41.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+55\+Cycles5\+: Sample time equal to 55.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+71\+Cycles5\+: Sample time equal to 71.\+5 cycles \item A\+D\+C\+\_\+\+Sample\+Time\+\_\+239\+Cycles5\+: Sample time equal to 239.\+5 cycles \end{DoxyItemize}
\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em int} & (error detected while computing initialization) \\
\hline
\end{DoxyRetVals}
\begin{DoxyReturn}{Returns}
If everything went right A\+D\+C\+\_\+\+N\+O\+\_\+\+E\+R\+R\+OR, if not A\+D\+C\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+IN or A\+D\+C\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+O\+RT 
\end{DoxyReturn}
